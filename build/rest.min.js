(function(e,n){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=n(require("d3"))}else if(typeof define==="function"&&define.amd){define(["d3","exports"],n)}else{e.adt=e.adt||{};e.adt.rest=n(e.d3)}})(this,function(e){"use strict";var n=function(n,t,f){function o(o,i,r,s,u){var d=n+"/"+t+"/"+f;var c=e.keys(o).sort();if(c.length>0){d+="?"+c[0]+"="+o[c[0]]}for(var a=1;a<c.length;a++){d+="&"+c[a]+"="+o[c[a]]}i(d).on("beforesend",function(e){if(u){for(var n in u){if(e.hasOwnProperty(n))e[n]=u[n]}}}).get(function(e,n){if(e){if(s)s(e);return}if(r)r(n)})}function i(n,t,f,i){o(n,e.json,t,f,i)}function r(n,t,f,i){o(n,e.csv,t,f,i)}return{json:i,csv:r}};return{Rest:n}});